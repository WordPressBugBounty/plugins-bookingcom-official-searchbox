(()=>{"use strict";var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var l in t)e.o(t,l)&&!e.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:t[l]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=window.wp.blocks,t=window.React,l=window.wp.i18n,n=window.wp.blockEditor,s=window.wp.components,a=window.moment;var i=e.n(a);const r=window.ReactJSXRuntime,c=JSON.parse('{"UU":"create-block/bookingcom-searchbox-block"}'),d=(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",children:(0,r.jsx)("path",{d:"M72.6 62.8L69 61l3.2-2.7c3.5-3 8.8-9.7 8.8-21.3C81 19.3 68.2 8 47 8H19c-6.3.2-11 5.7-11 12v100h39c23.6 0 39-13.1 39-33a27 27 0 0 0-13.4-24.3zM29 34c0-5 2-7 7-7h10c10 0 14 6 14 13 0 6-3.5 13-13 13H29zm19 67H29V79c0-5 2-7 7-7h13c6 0 15 4.7 15 14 0 9.6-6.7 15-16 15zm59-7c-7.18 0-13 5.82-13 13s5.82 13 13 13 13-5.82 13-13-5.82-13-13-13z"})});(0,o.registerBlockType)(c.UU,{icon:d,edit:function({attributes:e,setAttributes:o}){const a=382821;let c=new Date;const d=objectL10n.language;i().locale(d);let b=i()(c).add(1,"d"),h=i()(c).format("ddd D MMM YYYY"),x=i()(b).format("ddd D MMM YYYY");const{headLineSize:g,sbTitle:u,destTitle:_,checkinTitle:j,checkoutTitle:p,submitTitle:m,logoPos:C,submitPos:k,sbBgColor:v,headlineTextColor:y,textColor:L,destTextColor:B,destBgColor:T,flexDateTextColor:w,dateBgColor:f,dateTextColor:S,ctaBgColor:D,ctaBorderColor:P,ctaTextColor:$,calSelBgColor:M,calSelTextColor:A,calDayNamesTextColor:Y,aid:N,width:R,logoDim:H,fieldsBorderRadius:I,sbBorderRadius:O,destination:z,dest_type:F,dest_id:W}=e,U=(0,n.useBlockProps)({className:"flexi_searchbox"}),E=objectL10n.settings.aid,J=objectL10n.settings.widget_width,q=objectL10n.settings.cname,V=objectL10n.settings.logodim,X=objectL10n.settings.logopos,G=objectL10n.settings.buttonpos,K=objectL10n.settings.fields_border_radius,Q=objectL10n.settings.sb_border_radius,Z=objectL10n.settings.destination,ee=objectL10n.settings.dest_type,oe=objectL10n.settings.dest_id,te=objectL10n.settings.bgcolor,le=objectL10n.settings.headline_textcolor,ne=objectL10n.settings.textcolor,se=objectL10n.settings.dest_bgcolor,ae=objectL10n.settings.dest_textcolor,ie=objectL10n.settings.flexdate_textcolor,re=objectL10n.settings.date_bgcolor,ce=objectL10n.settings.date_textcolor,de=objectL10n.settings.submit_bgcolor,be=objectL10n.settings.submit_bordercolor,he=objectL10n.settings.submit_textcolor,xe=objectL10n.settings.calendar_selected_bgcolor,ge=objectL10n.settings.calendar_selected_textcolor,ue=objectL10n.settings.calendar_daynames_color,_e=objectL10n.settings.headline_textsize,je=objectL10n.settings.maintitle?objectL10n.settings.maintitle:objectL10n.main_title,pe=objectL10n.settings.dest_title?objectL10n.settings.dest_title:objectL10n.dest_title,me=objectL10n.settings.checkin?objectL10n.settings.checkin:objectL10n.checkin_title,Ce=objectL10n.settings.checkout?objectL10n.settings.checkout:objectL10n.checkout_title,ke=objectL10n.settings.submit?objectL10n.settings.submit:objectL10n.submit_title,[ve,ye]=(0,t.useState)(1==objectL10n.logo_enabled),[Le,Be]=(0,t.useState)(1==objectL10n.flexible_dates),[Te,we]=(0,t.useState)(1==objectL10n.show_weeknumbers);let fe=(H||V).substring(5,8);const Se=wp.data.select("core/editor").getCurrentPostAttribute("meta")?._bos_mb_destination;return"de_DE"===d&&(h=i()(c).format("ddd D. MMM YYYY"),x=i()(b).format("ddd D. MMM YYYY")),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.InspectorControls,{children:[(0,r.jsxs)(s.PanelBody,{title:(0,l.__)("Main Settings","bookingcom-searchbox-block"),initialOpen:!0,children:[(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Your affiliate ID","bookingcom-searchbox-block"),type:"number",value:N||E,help:"Your affiliate ID is a unique number that allows Booking.com to track commission.",onChange:e=>o({aid:parseInt(e)})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Width","bookingcom-searchbox-block"),value:R||J,help:"Need a specific width (e.g. 150px or 75%)?",onChange:e=>o({width:e})}),(0,r.jsx)(s.ToggleControl,{checked:ve,label:(0,l.__)("Show Booking Logo","bookingcom-searchbox-block"),help:"Enable or disable the Booking logo on the searchbox.",onChange:e=>{o({enableLogo:e}),ye(e)}}),ve&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.SelectControl,{label:(0,l.__)("Select Booking Logo","bookingcom-searchbox-block"),value:H||V,options:[{label:"Blue 150x25",value:"blue_150x25"},{label:"Blue 200x33",value:"blue_200x33"},{label:"Blue 300x50",value:"blue_300x50"},{label:"White 150x25",value:"white_150x25"},{label:"White 200x33",value:"white_200x33"},{label:"White 300x50",value:"white_300x50"}],onChange:e=>o({logoDim:e})}),(0,r.jsx)(s.SelectControl,{label:(0,l.__)("Logo Position","bookingcom-searchbox-block"),value:C||X,options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:e=>o({logoPos:e})})]}),(0,r.jsx)(s.SelectControl,{label:(0,l.__)("Button Position","bookingcom-searchbox-block"),value:k||G,options:[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"}],onChange:e=>o({submitPos:e})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Border Radius Fields","bookingcom-searchbox-block"),type:"number",value:I||K,help:"This will be the border radius for any field or button.",onChange:e=>o({fieldsBorderRadius:parseInt(e)})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Searchbox Border Radius","bookingcom-searchbox-block"),type:"number",value:O||Q,help:"This will be the border radius for the searchbox.",onChange:e=>o({sbBorderRadius:parseInt(e)})})]}),(0,r.jsxs)(s.PanelBody,{title:(0,l.__)("Preset Destination","bookingcom-searchbox-block"),initialOpen:!1,children:[(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Destination","bookingcom-searchbox-block"),value:z||Z,help:"You can pre-fill this field with a specific destination ( e.g. Amsterdam )",onChange:e=>o({destination:e})}),(0,r.jsx)(s.SelectControl,{label:(0,l.__)("Destination Type","bookingcom-searchbox-block"),value:F||ee,options:[{label:"Select ...",value:""},{label:"City",value:"city"},{label:"Landmark",value:"landmark"},{label:"Region",value:"region"},{label:"Airport",value:"airport"}],onChange:e=>o({dest_type:e})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Destination ID","bookingcom-searchbox-block"),value:W||oe,onChange:e=>o({dest_id:e})})]})]}),(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(s.PanelBody,{title:(0,l.__)("Colours Searchbox","bookingcom-searchbox-block"),initialOpen:!1,children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Searchbox Background Colour"})}),(0,r.jsx)(s.ColorPalette,{value:v||te,onChange:e=>o({sbBgColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Headline Text Colour"})}),(0,r.jsx)(s.ColorPalette,{value:y||le,onChange:e=>o({headlineTextColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Text Colour"})}),(0,r.jsx)(s.ColorPalette,{value:L||ne,onChange:e=>o({textColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Destination Background Colour"})}),(0,r.jsx)(s.ColorPalette,{value:T||se,onChange:e=>o({destBgColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Destination Text Color"})}),(0,r.jsx)(s.ColorPalette,{value:B||ae,onChange:e=>o({destTextColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Flex Date Text Color"})}),(0,r.jsx)(s.ColorPalette,{value:w||ie,onChange:e=>o({flexDateTextColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Date Background Color"})}),(0,r.jsx)(s.ColorPalette,{value:f||re,onChange:e=>o({dateBgColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Date Text Color"})}),(0,r.jsx)(s.ColorPalette,{value:S||ce,onChange:e=>o({dateTextColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Button Background Color"})}),(0,r.jsx)(s.ColorPalette,{value:D||de,onChange:e=>o({ctaBgColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Button Border Color"})}),(0,r.jsx)(s.ColorPalette,{value:P||be,onChange:e=>o({ctaBorderColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Button Text Color"})}),(0,r.jsx)(s.ColorPalette,{value:$||he,onChange:e=>o({ctaTextColor:e}),enableAlpha:!0})]})}),(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(s.PanelBody,{title:(0,l.__)("Colours Calendar","bookingcom-searchbox-block"),initialOpen:!1,children:[(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Calendar Selected background colour"})}),(0,r.jsx)(s.ColorPalette,{value:M||xe,onChange:e=>o({calSelBgColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Calendar Selected text colour"})}),(0,r.jsx)(s.ColorPalette,{value:A||ge,onChange:e=>o({calSelTextColor:e}),enableAlpha:!0}),(0,r.jsx)("p",{children:(0,r.jsx)("strong",{children:"Calendar daynames text colour"})}),(0,r.jsx)(s.ColorPalette,{value:Y||ue,onChange:e=>o({calDayNamesTextColor:e}),enableAlpha:!0})]})}),(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(s.PanelBody,{title:(0,l.__)("Calendar Settings","bookingcom-searchbox-block"),initialOpen:!1,children:[(0,r.jsx)(s.ToggleControl,{checked:Le,label:(0,l.__)("Flexible Dates checkbox","bookingcom-searchbox-block"),onChange:e=>{o({flexDates:e}),Be(e)}}),(0,r.jsx)(s.ToggleControl,{checked:Te,label:(0,l.__)("Show Weeknumbers in calendar","bookingcom-searchbox-block"),onChange:e=>{o({showWeekNumbers:e}),we(e)}})]})}),(0,r.jsx)(n.InspectorControls,{children:(0,r.jsxs)(s.PanelBody,{title:(0,l.__)("Searchbox Text","bookingcom-searchbox-block"),initialOpen:!1,children:[(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Headline Text Size","bookingcom-searchbox-block"),type:"number",value:g||_e,help:"Font size in px",onChange:e=>o({headLineSize:parseInt(e)})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Main Title","bookingcom-searchbox-block"),value:u||je,help:"e.g. Search hotels and more...",onChange:e=>o({sbTitle:e})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Destination Title","bookingcom-searchbox-block"),value:_||pe,help:"e.g. Destination",onChange:e=>o({destTitle:e})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Checkin Title","bookingcom-searchbox-block"),value:j||me,help:"e.g. Check-in date",onChange:e=>o({checkinTitle:e})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Checkout Title","bookingcom-searchbox-block"),value:p||Ce,help:"e.g. Check-out date",onChange:e=>o({checkoutTitle:e})}),(0,r.jsx)(s.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Submit Button Title","bookingcom-searchbox-block"),value:m||ke,help:"e.g. Search",onChange:e=>o({submitTitle:e})})]})}),(0,r.jsx)("div",{...U,style:{backgroundColor:`${v||te}`,borderRadius:`${O||Q}px`,color:`${L||ne}`,width:`${R||J}`},children:(0,r.jsxs)("div",{class:"b_searchboxInc",children:[(0,r.jsx)("h2",{style:{fontSize:`${g||_e}px`,color:`${y||le}`},children:u||je}),(0,r.jsxs)("form",{action:objectL10n.domain+objectL10n.target_path,method:"get",target:"_blank",role:"search",children:[(0,r.jsx)("div",{class:"b_error b_external_searchbox",style:{display:"none"}}),(0,r.jsxs)("div",{class:"b_frmInner",children:[(0,r.jsx)("input",{type:"hidden",name:"si",value:"ai,co,ci,re,di"}),(0,r.jsx)("input",{type:"hidden",name:"utm_campaign",value:"search_box"}),(0,r.jsx)("input",{type:"hidden",name:"utm_medium",value:"sp"}),!q||q&&(E!=a||N!=a)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"hidden",name:"aid",value:N||E}),(0,r.jsx)("input",{type:"hidden",name:"label",value:N}),(0,r.jsx)("input",{type:"hidden",name:"utm_term",value:N}),(0,r.jsx)("input",{type:"hidden",name:"error_url",value:objectL10n.domain+objectL10n.target_path+"?aid="+N?N:E})]}):q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"hidden",name:"ifl",value:"1"}),"';",(0,r.jsx)("input",{type:"hidden",name:"label",value:"wp-searchbox-widget-"+q}),(0,r.jsx)("input",{type:"hidden",name:"utm_term",value:"wp-searchbox-widget-"+q}),(0,r.jsx)("input",{type:"hidden",name:"error_url",value:objectL10n.domain+objectL10n.target_path})]}):(0,r.jsx)("input",{type:"hidden",name:"label",value:N}),(0,r.jsxs)("div",{class:"b_searchDest",children:[(0,r.jsx)("h3",{style:{color:`${L||ne}`},children:_||pe}),""!==z||""!==Z||""!==Se?""!==F&&""!==W||""!==ee&&""!==oe?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{class:"b_dest_wrap",children:(0,r.jsx)("input",{type:"text",class:objectL10n.is_light_color?"b_destination light_placeholder":"b_destination",name:"ss",value:z||Se||Z,readonly:"readonly",style:{backgroundColor:`${T||se}`,color:`${B||ae}`,borderRadius:`${I||K}px`},autocomplete:"off"})}),(0,r.jsx)("input",{class:"b_dest_type",type:"hidden",name:"dest_type",value:F||ee}),(0,r.jsx)("input",{class:"b_dest_id",type:"hidden",name:"dest_id",value:W||oe})]}):(0,r.jsx)("input",{type:"text",class:objectL10n.is_light_color?"b_destination light_placeholder":"b_destination",name:"ss",value:z||Se||Z,style:{backgroundColor:`${T||se}`,color:`${B||ae}`,borderRadius:`${I||K}px`},autocomplete:"off"}):(0,r.jsx)("input",{type:"text",class:objectL10n.is_light_color?"b_destination light_placeholder":"b_destination",name:"ss",value:z||Se||Z,placeholder:"e.g. city, region, district or specific hotel",title:"e.g. city, region, district or specific hotel",style:{backgroundColor:`${T||se}`,color:`${B||ae}`,borderRadius:`${I||K}px`},autocomplete:"off"})]}),(0,r.jsx)("div",{class:"b_aff-dates",children:(0,r.jsxs)("div",{class:"b_dates bos-dates__col '. esc_attr($wp_system_language) .'",style:{backgroundColor:`${f||re}`,borderRadius:`${I||K}px`},children:[(0,r.jsxs)("div",{class:"b_dates_inner_wrapper",children:[(0,r.jsx)("h4",{class:"checkInDate_h4",style:{color:`${S||ce}`},children:me}),(0,r.jsx)("div",{class:"bos-date-field__display bos-date__checkin bos-date_b_checkin",style:{color:`${S||ce}`},children:h}),(0,r.jsx)("input",{type:"hidden",name:"checkin",value:"",class:"b_checkin"})]}),(0,r.jsxs)("div",{class:"b_dates_inner_wrapper",children:[(0,r.jsx)("h4",{class:"checkOutDate_h4",style:{color:`${S||ce}`},children:Ce}),(0,r.jsx)("div",{class:"bos-date-field__display bos-date__checkout bos-date_b_checkout",style:{color:`${S||ce}`},children:x}),(0,r.jsx)("input",{type:"hidden",name:"checkout",value:"",class:"b_checkout"})]})]})}),(0,r.jsx)("div",{class:"b_avail",children:(0,r.jsx)("input",{type:"hidden",value:"on",name:"do_availability_check"})}),Le&&(0,r.jsx)("div",{class:"b_flexible_dates",children:(0,r.jsxs)("label",{class:"b_checkbox_container",children:[(0,r.jsx)("input",{type:"checkbox",name:"idf",id:"b_idf"}),(0,r.jsx)("span",{style:{color:`${w||ie}`},children:objectL10n.noSpecificDate})]})}),(0,r.jsx)("div",{class:"b_submitButton_wrapper",style:{textAlign:`${k||G}`},children:(0,r.jsx)("input",{class:"b_submitButton",type:"submit",value:m||ke,style:{backgroundColor:`${D||de}`,color:`${$||he}`,borderColor:`${P||be}`,borderRadius:`${I||K}px`}})}),ve&&(0,r.jsx)("div",{class:"b_logo",style:{textAlign:`${C||X}`},children:(0,r.jsx)("img",{width:fe,src:objectL10n.images_js_path+"/booking_logo_"+(H||V)+".png",alt:"Booking.com"})})]})]})]})})]})},save:()=>null})})();